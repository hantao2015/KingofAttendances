{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/Eicc-browseweekrpt/shiftrptofsuper.js","shiftrptofsuper.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","shiftrptofsuper","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","__extends","d","b","__","constructor","p","hasOwnProperty","prototype","Object","create","baseObject","Lineleader","_super","apply","arguments","Supervisor","Shiftrptofsuper","element","span","document","createElement","appendChild","innerText","Date","toLocaleTimeString","start","_this","timerToken","setInterval","innerHTML","stop","clearTimeout","appendLineleader","parentelement","panelid","data","mini","aLineleader","mini_control","id","className","title","REC_ID","parse","aPanel","get","set","width","showCollapseButton","height","load","iFrame","getIFrameEl","contentWindow","SetData","appendSupervisor","subdata","aSupervisor","dates","C3_525698252852","substr","aSupervisorPanel","onload","el","getElementById","datagrids","shiftPanel","baseUrl","method","ucode","getQueryString","user","resid","subresid","cmswhere","url","$","ajax","dataType","jsonp","success","text","decode","console","log","message","error","alert","adata","total","write","each","item","row","push","toString","jqXHR","textStatus","errorThrown","responseText"],"mappings":"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","file":"shiftrptofsuper.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar baseObject = (function () {\n    function baseObject() {\n    }\n    return baseObject;\n}());\nvar Lineleader = (function (_super) {\n    __extends(Lineleader, _super);\n    function Lineleader() {\n        _super.apply(this, arguments);\n    }\n    return Lineleader;\n}(baseObject));\nvar Supervisor = (function (_super) {\n    __extends(Supervisor, _super);\n    function Supervisor() {\n        _super.apply(this, arguments);\n    }\n    return Supervisor;\n}(baseObject));\nvar Shiftrptofsuper = (function () {\n    function Shiftrptofsuper(element) {\n        this.element = element;\n        this.span = document.createElement('span');\n        this.element.appendChild(this.span);\n        this.span.innerText = new Date().toLocaleTimeString();\n    }\n    Shiftrptofsuper.prototype.start = function () {\n        var _this = this;\n        var jsonString = '{\"messge\": \"ok\",\"error\":\"-1\"}';\n        this.timerToken = setInterval(function () { return _this.span.innerHTML = new Date().toLocaleTimeString(); }, 500);\n    };\n    Shiftrptofsuper.prototype.stop = function () {\n        clearTimeout(this.timerToken);\n    };\n    Shiftrptofsuper.prototype.appendLineleader = function (parentelement, panelid, data, mini) {\n        var aLineleader = new Lineleader();\n        aLineleader = data[0];\n        this.mini_control = document.createElement('div');\n        this.mini_control.id = panelid;\n        this.mini_control.className = \"mini-panel mini-panel-warning\";\n        this.mini_control.title = aLineleader.REC_ID;\n        parentelement.appendChild(this.mini_control);\n        mini.parse();\n        var aPanel = mini.get(panelid);\n        aPanel.set({ \"width\": \"auto\", \"showCollapseButton\": \"true\" });\n        aPanel.set({ \"height\": \"350px\" });\n        aPanel.load(\"./dist/component/shiftrptofsuper-weekform.html\", function () {\n            var iFrame = aPanel.getIFrameEl();\n            iFrame.contentWindow.SetData(data);\n        }, null);\n    };\n    Shiftrptofsuper.prototype.appendSupervisor = function (parentelement, data, subdata, mini) {\n        var aSupervisor = new Supervisor();\n        aSupervisor = data[0];\n        this.mini_control = document.createElement('div');\n        this.mini_control.id = \"supervisor\";\n        this.mini_control.className = \"mini-panel mini-panel-success\";\n        var yearmonth = aSupervisor.C3_525698252852;\n        var dates = (aSupervisor.C3_525698252634);\n        var startDate = new Date(dates.substr(0, 4) + '-' + dates.substr(4, 2) + '-' + dates.substr(6, 2));\n        var title = dates + \"日产线排班整体情况\";\n        this.mini_control.title = title;\n        parentelement.appendChild(this.mini_control);\n        mini.parse();\n        var aSupervisorPanel = mini.get(\"supervisor\");\n        aSupervisorPanel.set({ \"width\": \"auto\", \"showCollapseButton\": \"true\" });\n        aSupervisorPanel.set({ \"height\": \"250px\" });\n        aSupervisorPanel.load(\"./dist/component/shiftsupervisor.html\", function () {\n            var iFrame = aSupervisorPanel.getIFrameEl();\n            iFrame.contentWindow.SetData(data);\n        }, null);\n    };\n    return Shiftrptofsuper;\n}());\nwindow.onload = function () {\n    var el = document.getElementById('content');\n    var datagrids = document.getElementById('datagrids');\n    var shiftPanel = new Shiftrptofsuper(el);\n    var baseUrl = \"http://www.realsun.me:8003/rispweb/risphost/data/AjaxService.aspx?uiver=200&dynlogin=1\";\n    var method = \"ShowHostTableDatas_Ajax\";\n    var ucode = getQueryString('ucode');\n    var user = getQueryString('user');\n    var resid = 526415710928;\n    var subresid = 525642459751;\n    var cmswhere = \"C3_525697777216=1959\";\n    shiftPanel.start();\n    var url;\n    mini.parse();\n    url = baseUrl + \"&method=\" + method + \"&user=\" + user + \"&ucode=\" + ucode + \"&resid=\" + resid + \"&subresid=\" + subresid + \"&cmswhere=\" + cmswhere;\n    $.ajax({\n        url: url,\n        dataType: \"jsonp\",\n        jsonp: \"jsoncallback\",\n        success: function (text) {\n            if (text !== \"\") {\n                var data = mini.decode(text);\n                console.log(data.message);\n                if (data.error == -1) {\n                    alert(data.message);\n                }\n                var adata = [];\n                var subdata = [];\n                adata = data.data;\n                if (data.subdata != null) {\n                    subdata = data.subdata.data;\n                }\n                if (data.total > 0) {\n                    shiftPanel.appendSupervisor(datagrids, adata, subdata, mini);\n                }\n                else {\n                    document.write(\"no data\");\n                }\n                $.each(subdata, function (i, item) {\n                    var row = [];\n                    row.push(item);\n                    shiftPanel.appendLineleader(datagrids, \"dynamicgrid\" + i.toString(), row, mini);\n                });\n            }\n        },\n        error: function (jqXHR, textStatus, errorThrown) {\n            alert(jqXHR.responseText);\n        }\n    });\n};\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.shiftrptofsuper = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar baseObject = (function () {\n    function baseObject() {\n    }\n    return baseObject;\n}());\nvar Lineleader = (function (_super) {\n    __extends(Lineleader, _super);\n    function Lineleader() {\n        _super.apply(this, arguments);\n    }\n    return Lineleader;\n}(baseObject));\nvar Supervisor = (function (_super) {\n    __extends(Supervisor, _super);\n    function Supervisor() {\n        _super.apply(this, arguments);\n    }\n    return Supervisor;\n}(baseObject));\nvar Shiftrptofsuper = (function () {\n    function Shiftrptofsuper(element) {\n        this.element = element;\n        this.span = document.createElement('span');\n        this.element.appendChild(this.span);\n        this.span.innerText = new Date().toLocaleTimeString();\n    }\n    Shiftrptofsuper.prototype.start = function () {\n        var _this = this;\n        var jsonString = '{\"messge\": \"ok\",\"error\":\"-1\"}';\n        this.timerToken = setInterval(function () { return _this.span.innerHTML = new Date().toLocaleTimeString(); }, 500);\n    };\n    Shiftrptofsuper.prototype.stop = function () {\n        clearTimeout(this.timerToken);\n    };\n    Shiftrptofsuper.prototype.appendLineleader = function (parentelement, panelid, data, mini) {\n        var aLineleader = new Lineleader();\n        aLineleader = data[0];\n        this.mini_control = document.createElement('div');\n        this.mini_control.id = panelid;\n        this.mini_control.className = \"mini-panel mini-panel-warning\";\n        this.mini_control.title = aLineleader.REC_ID;\n        parentelement.appendChild(this.mini_control);\n        mini.parse();\n        var aPanel = mini.get(panelid);\n        aPanel.set({ \"width\": \"auto\", \"showCollapseButton\": \"true\" });\n        aPanel.set({ \"height\": \"350px\" });\n        aPanel.load(\"./dist/component/shiftrptofsuper-weekform.html\", function () {\n            var iFrame = aPanel.getIFrameEl();\n            iFrame.contentWindow.SetData(data);\n        }, null);\n    };\n    Shiftrptofsuper.prototype.appendSupervisor = function (parentelement, data, subdata, mini) {\n        var aSupervisor = new Supervisor();\n        aSupervisor = data[0];\n        this.mini_control = document.createElement('div');\n        this.mini_control.id = \"supervisor\";\n        this.mini_control.className = \"mini-panel mini-panel-success\";\n        var yearmonth = aSupervisor.C3_525698252852;\n        var dates = (aSupervisor.C3_525698252634);\n        var startDate = new Date(dates.substr(0, 4) + '-' + dates.substr(4, 2) + '-' + dates.substr(6, 2));\n        var title = dates + \"日产线排班整体情况\";\n        this.mini_control.title = title;\n        parentelement.appendChild(this.mini_control);\n        mini.parse();\n        var aSupervisorPanel = mini.get(\"supervisor\");\n        aSupervisorPanel.set({ \"width\": \"auto\", \"showCollapseButton\": \"true\" });\n        aSupervisorPanel.set({ \"height\": \"250px\" });\n        aSupervisorPanel.load(\"./dist/component/shiftsupervisor.html\", function () {\n            var iFrame = aSupervisorPanel.getIFrameEl();\n            iFrame.contentWindow.SetData(data);\n        }, null);\n    };\n    return Shiftrptofsuper;\n}());\nwindow.onload = function () {\n    var el = document.getElementById('content');\n    var datagrids = document.getElementById('datagrids');\n    var shiftPanel = new Shiftrptofsuper(el);\n    var baseUrl = \"http://www.realsun.me:8003/rispweb/risphost/data/AjaxService.aspx?uiver=200&dynlogin=1\";\n    var method = \"ShowHostTableDatas_Ajax\";\n    var ucode = getQueryString('ucode');\n    var user = getQueryString('user');\n    var resid = 526415710928;\n    var subresid = 525642459751;\n    var cmswhere = \"C3_525697777216=1959\";\n    shiftPanel.start();\n    var url;\n    mini.parse();\n    url = baseUrl + \"&method=\" + method + \"&user=\" + user + \"&ucode=\" + ucode + \"&resid=\" + resid + \"&subresid=\" + subresid + \"&cmswhere=\" + cmswhere;\n    $.ajax({\n        url: url,\n        dataType: \"jsonp\",\n        jsonp: \"jsoncallback\",\n        success: function (text) {\n            if (text !== \"\") {\n                var data = mini.decode(text);\n                console.log(data.message);\n                if (data.error == -1) {\n                    alert(data.message);\n                }\n                var adata = [];\n                var subdata = [];\n                adata = data.data;\n                if (data.subdata != null) {\n                    subdata = data.subdata.data;\n                }\n                if (data.total > 0) {\n                    shiftPanel.appendSupervisor(datagrids, adata, subdata, mini);\n                }\n                else {\n                    document.write(\"no data\");\n                }\n                $.each(subdata, function (i, item) {\n                    var row = [];\n                    row.push(item);\n                    shiftPanel.appendLineleader(datagrids, \"dynamicgrid\" + i.toString(), row, mini);\n                });\n            }\n        },\n        error: function (jqXHR, textStatus, errorThrown) {\n            alert(jqXHR.responseText);\n        }\n    });\n};\n\n},{}]},{},[1])(1)\n});\n\n"],"sourceRoot":"/source/"}